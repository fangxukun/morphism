#### 要解决的问题:
  1. 集群分行列部署机器后，机器重启，新机器扩容等情况需要回复数据到正常状态，使用目前的TLog来实现存在一些问题不能方便解决。
  2. 全量索引切换后需要补全中间Gap的数据，目前TLog实现也存在一些问题。
  3. 实时更新方案目前vsearch采取的方案是客户端更新所有需要更新的机器，对于某些机器同步失败(如在GC)等并没有很好的方法避免数据丢失。

#### TLog目前实现存在的一些问题:
  1. TLog对于原子更新(部分更新),会记录Merge完后的数据，全量更新后回放TLog存在全量数据中的一些离线计算的字段会被覆盖为昨天的数据。(很重要)
  2. 回放TLog数据与外部实时更新数据两个数据源处理存在一些问题，如果都是全量更新可以先onlineWriter()然后回放TLog,再通过VersionConstraint做限制是可以解决问题的。但是如果是部分更新，在如下场景存在问题,回放的TLog中存在新增整条Doc,打开Writer后，进来一条这个记录的部分更新版本，由于TLog是从兄弟节点copy来的，此时merge没有记录，后续回放又无法回放这条记录，导致记录数据不全。

#### 可能的方案
  1. 引入外部消息中间件(MQ),更新统一进入MQ,引擎消费MQ接入增量更新。存在问题包括：需要引入外部MQ,对于整体系统来说存在一定的代价。

#### 目前的方案：
  1. 引擎内部实现DistributeLog(DLog),外部写入可以制定任意一台OnlineWriter的机器写入，集群内部会进行基于DLog的内部分发。
 
 